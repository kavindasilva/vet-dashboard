(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{201:function(e,t,a){e.exports=a(288)},206:function(e,t,a){},288:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(15),i=a.n(r),o=(a(206),a(43)),s=a(44),c=a(47),u=a(45),p=a(48),d=a(73),m=a(59),h=(a(207),a(138)),f=(a(208),a(209),a(218),a(286),a(245),a(183)),y=a(38),g=a(137),v=(a(246),a(333)),b=a(350),E=a(336),D=a(335),k=a(337),O=a(290),j=(a(133),a(346)),w=a(351),S=a(349),A=a(345),C=a(101),V=function(e,t){console.log("PetReducer: state: ",e,"\naction: ",t);var a={};switch(t.type){case"UPDATE_PET_DETAIL":return a=Object(m.a)({},e,{admissions:e.admissions.map(function(e){if(e.id===t.payload.identifier){var a={};return a[t.payload.attribute]=t.payload.value,Object(m.a)({},e,a)}return e})}),console.log("petReducer_UPDATE_PET_DETAIL: ",a),a;case"FETCH_FROM_API":return a=Object(m.a)({},e,{admissions:t.payload.apiData.map(function(e){return e})}),console.log("petReducer_FETCH_FROM_API: ",a),a;default:return e}},P=Object(C.b)(V,{admissions:[{id:"22250",name:"RoverStt",speci:"Dog",gender:"Male",years:"60",symptoms:["Fever","Cold"],admittedDate:"2019-04-01"}]}),I=a(353),T=a(331),x=a(332),M=a(291),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={identifier:a.props.identifier,attributeValue:a.props.value,attributeName:a.props.property,elementType:a.props.elementType,isOpen:!1,tempDayCal:a.props.value},a.styleTD={width:"100%",color:"#111111"},a.styleMatUI={closeButton:{cursor:"pointer",float:"right",marginTop:"5px",width:"20px",align:"right"},titleBarThin:{padding:"0 24 0 24"},titleBarPrimary:{color:"white",backgroundColor:"#3c4fb0"}},a.openPopUp=function(){a.setState({isOpen:!0})},a.closePopUp=function(){a.setState({isOpen:!1})},a.dispatchUpdate=function(){P.dispatch({type:"UPDATE_PET_DETAIL",payload:{identifier:a.state.identifier,attribute:a.state.attributeName,value:a.state.attributeValue}})},a.makeInputElements=function(){switch(a.state.elementType){case"text":case"number":return l.a.createElement(A.a,{label:a.state.attributeName,value:a.state.attributeValue,onChange:function(e){return e.preventDefault(),a.setState({attributeValue:e.target.value}),console.log("onChange data",e)},type:a.state.elementType});case"select":return l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement(j.a,{value:a.state.attributeValue,onChange:function(e){return a.setState({attributeValue:e.target.value})},fullWidth:!0},a.props.data.valueSet.map(function(e){return l.a.createElement(I.a,{key:e.value,value:e.value},e.label)})));case"select0":return l.a.createElement(j.a,{options:a.props.data.valueSet,defaultValue:{value:a.props.data.defaultValue,label:a.props.data.defValDisp},onChange:function(e){return a.setState({attributeValue:e.label})}});case"radio":return l.a.createElement(T.a,{name:"genderSelect",value:a.state.attributeValue,onChange:function(e){a.setState({attributeValue:e.target.value}),console.log(e)}},a.props.data.valueSet.map(function(e){return l.a.createElement(x.a,{key:e,value:e,control:l.a.createElement(w.a,{color:"primary"}),label:e,labelPlacement:"end"})}));case"checkBox":return l.a.createElement(M.a,null,a.props.data.valueSet.map(function(e,t){return l.a.createElement("div",{key:t},l.a.createElement(x.a,{control:l.a.createElement(S.a,{key:t,checked:a.state.attributeValue.includes(e.name),onChange:function(e){if(e.target.checked)a.setState({attributeValue:[].concat(Object(h.a)(a.state.attributeValue),[e.target.value])});else{var t=a.state.attributeValue.indexOf(e.target.value);if(t>-1){var n=Object(h.a)(a.state.attributeValue);n.splice(t,1),a.setState({attributeValue:n})}}},value:e.name,color:"primary"}),style:{width:"100%"},label:e.value}))}));case"date":return l.a.createElement(g.b,{utils:f.a,onClick:function(){return a.setState({isOpen:!0})}},l.a.createElement(g.a,{autoFocus:!1,format:"yyyy/MM/dd",label:"Pet admitted date",value:a.state.attributeValue,onChange:a.changeDatepickerValue,onAccept:a.acceptDatepickerValue,open:a.state.isOpen,onOpen:a.openDatepicker,onClose:a.closeDatepicker,onClick:a.openDatepicker}));default:console.log("invalid case")}},a.openDatepicker=function(){a.setState({isOpen:!0})},a.closeDatepicker=function(){a.setState({isOpen:!1})},a.changeDatepickerValue=function(e){a.setState({attributeValue:Object(y.a)(new Date(e),"yyyy-MM-dd")})},a.acceptDatepickerValue=function(){a.dispatchUpdate()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.showPop(0))}},{key:"showPop",value:function(e){var t=this;return l.a.createElement("div",null,l.a.createElement("div",{style:this.styleTD,onClick:function(){t.openPopUp(),console.log("Popoup clicked: ",t)}},this.props.value),l.a.createElement(b.a,{open:this.state.isOpen,onClose:this.closePopUp,"aria-labelledby":"draggable-dialog-title"},l.a.createElement(k.a,{id:"draggable-dialog-title",style:Object(m.a)({},this.styleMatUI.titleBarPrimary,{padding:"18px 24px 16px 24px"})},"Change ",this.state.attributeName),l.a.createElement(D.a,null,this.makeInputElements()),l.a.createElement(E.a,null,l.a.createElement(v.a,{onClick:function(){t.setState({attributeValue:t.props.value}),t.closePopUp()},style:this.styleMatUI.closeButton,variant:"text",color:"primary"},"Cancel"),l.a.createElement(v.a,{onClick:function(){t.dispatchUpdate(),t.closePopUp()},variant:"text",color:"primary",style:this.styleMatUI.closeButton},"OK"))))}}]),t}(n.Component);var R=(new Date).getFullYear();new Date(R,0),new Date(R+10,11);var U=F,B=a(72),_=a(339),L=a(338),G=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={},a.tempValue=null,a.species=[{value:"Bird",label:"Bird"},{value:"Cat",label:"Cat"},{value:"Dog",label:"Dog"}],a.symptomsInfo=[{id:0,name:"Bleeding",value:"Bleeding"},{id:1,name:"Cold",value:"Cold"},{id:2,name:"RefusingFood",value:"Refusing Food"},{id:3,name:"Sleeping",value:"Sleeping"},{id:4,name:"Swating",value:"Swating"},{id:5,name:"Fever",value:"Fever"}],a.retrieveFromPopup=function(e,t){switch(e){case"name":a.setState({name:t}),console.log("Name=",a.state.name);break;case"speci":a.setState({speci:t}),console.log("Speci=",a.state.speci);break;case"gender":a.setState({gender:t}),console.log("Gender=",a.state.gender);break;case"years":a.setState({years:t}),console.log("years=",a.state.years);break;case"symptoms":a.setState({symptoms:t}),console.log("symptoms=",a.state.symptoms);break;case"admittedDate":a.setState({admittedDate:t}),console.log("admitDate=",a.state.admittedDate);break;default:console.log("pet.jsx -> default case")}console.log("retrieve data called")},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.viewPet())}},{key:"viewPet",value:function(){return l.a.createElement(L.a,null,l.a.createElement(_.a,null," ",this.props.id," "),l.a.createElement(_.a,null,l.a.createElement(U,{elementType:"text",identifier:this.props.id,property:"name",value:this.props.name})),l.a.createElement(_.a,null,l.a.createElement(U,{value:this.props.speci,elementType:"select",identifier:this.props.id,data:{defaultVal:this.props.speci,defValDisp:this.props.speci,valueSet:this.species},property:"speci"})),l.a.createElement(_.a,null,l.a.createElement(U,{value:this.props.gender,elementType:"radio",identifier:this.props.id,data:{valueSet:["Male","Female"],defaultVal:this.props.gender},property:"gender"})),l.a.createElement(_.a,null,l.a.createElement(U,{value:this.props.years,identifier:this.props.id,elementType:"number",property:"years"})),l.a.createElement(_.a,null,this.props.symptoms?l.a.createElement(U,{value:this.props.symptoms,identifier:this.props.id,elementType:"checkBox",data:{defaultVal:this.props.symptoms,valueSet:this.symptomsInfo},property:"symptoms"}):"NA"),l.a.createElement(_.a,null,l.a.createElement(U,{value:this.props.admittedDate,identifier:this.props.id,elementType:"date",data:{val:this.props.admittedDate},property:"admittedDate"})))}}]),t}(n.Component),N=Object(B.b)(function(e,t){var a=e.admissions.find(function(e){return t.identifier===e.id});return Object(m.a)({},a)})(G),Q=a(340),q=a(342),H=a(341),W=a(134),J=a(86),Y=a.n(J),z=(a(347),a(114)),K=a(80),X=a.n(K);function Z(){var e=Object(W.a)(["",""]);return Z=function(){return e},e}var $="http://127.0.0.1/phpapi/inline-index4.php",ee='\n  {\n    admissions( speci: "Dog" ) {\n      id, \n\t\t\tname,\n\t\t\tspeci,\n\t\t\tgender,\n\t\t\tyears,\n\t\t\tadmittedDate\n    }\n  }\n',te=new z.a({uri:"http://127.0.0.1/phpapi/inline-index4.php"}),ae=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"callGraphQL",value:function(e,t){var a="{admissions { id, name, speci, gender, years, admittedDate } }";return 0!==e&&(a="{\n        admissions( ".concat(e,': "').concat(t,'" ) {\n          id, \n          name,\n          speci,\n          gender,\n          years,\n          admittedDate\n        }\n      }')),console.log("petAPI - gql query: ",a),te.query({query:X()(Z(),a)}).then(function(e){return console.log("petAPI response: ",e.data),e})}},{key:"callGraphQL2",value:function(e,t){return console.log("petAPI.jsx - callGraphQL"),Y.a.create({baseURL:$}).post($,{query:ee}).then(function(e){return console.log("petAPI.jsx - callGraphQL\n",e),e})}},{key:"callGraphQL1",value:function(e,t){return Y.a.defaults.headers.post["Access-Control-Allow-Origin"]="*",console.log("petAPI.jsx - callGraphQL"),Y.a.create({baseURL:$}).get("",{query:ee}).then(function(e){return console.log("petAPI.jsx - callGraphQL\n",e),e})}},{key:"callApi",value:function(){return Y.a.get("http://127.0.0.1/phpApi/getData.php?q=redux").then(function(e){return console.log("petAPI.jsx - callAPI",e),e}).catch(function(e){return console.log(e),e})}},{key:"callApi1",value:function(){var e=this;fetch("http://127.0.0.1/ucsc5/vet-dashboard/phpApi/getData.php").then(function(e){return e.json()}).then(function(t){return e.setState({petAdmission:t}),t})}}]),t}(l.a.Component),ne=new ae,le=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={},a.styles1={fontSize:18,fontWeight:"bold"},a.styleMatUI={table:{width:"100%",overflowX:"auto"}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidMount0",value:function(){var e=this;console.log("Pets - Mount"),ne.callApi().then(function(t){return console.log(t),t.data&&e.setState({petAdmission:t.data}),t})}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(O.a,{style:this.styleMatUI.table},l.a.createElement(Q.a,null,l.a.createElement(H.a,null,l.a.createElement(L.a,null,l.a.createElement(_.a,null,"ID"),l.a.createElement(_.a,null,"Name"),l.a.createElement(_.a,null,"Speci"),l.a.createElement(_.a,null,"Gender"),l.a.createElement(_.a,null,"Age"),l.a.createElement(_.a,null,"Symptoms"),l.a.createElement(_.a,null,"Admitted Date"))),l.a.createElement(q.a,null,this.viewAll()))))}},{key:"render0",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("table",{border:"1",className:"table table-bordered table-striped table-hover dataTable no-footer"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Speci"),l.a.createElement("th",null,"Gender"),l.a.createElement("th",null,"Age"),l.a.createElement("th",null,"Symptoms"),l.a.createElement("th",null,"Admitted Date"))),l.a.createElement("tbody",null,this.viewAll())))}},{key:"viewAll",value:function(){return this.props.admissions.map(function(e){return l.a.createElement(N,{key:e.id,identifier:e.id})})}}]),t}(n.Component),re=Object(B.b)(function(e){return console.log("pets.jsx-mapStateToProps",e),{admissions:e.admissions}})(le),ie=a(343),oe=a(181),se=a.n(oe),ce=a(182),ue=a.n(ce),pe=a(83),de=a(292),me=a(184),he=a(334),fe=a(8),ye=new ae,ge=(new z.a({uri:"http://127.0.0.1/phpapi/inline-index4.php"}),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={fields:["id","name","gender","speci","admitDate"],fields2:{id:{id:"id",displayVal:"ID",parameter:"id"},name:{id:"name",displayVal:"Name",parameter:"name"},gender:{id:"gender",displayVal:"Gender",parameter:"gender"},speci:{id:"speci",displayVal:"Speci",parameter:"speci"},admitDate:{id:"admitDate",displayVal:"Admitted Date",parameter:"admitDate"},years:{id:"years",displayVal:"Years",parameter:"years"}},selectedField:"name",fieldValue:""},a.loadInitialData=function(){a.loadData(0,0)},a.handleSearch=function(){a.loadData(a.state.fields2[a.state.selectedField].id,a.state.fieldValue)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(B.a,{store:P},this.showMenuBar(),l.a.createElement(re,null))}},{key:"componentDidMount",value:function(){this.loadInitialData()}},{key:"loadData",value:function(e,t){var a=this;console.log("App - Mount");ye.callGraphQL(e,t).then(function(e){return console.log("app.jsx - response1: ",e),e.data?(console.log("app.jsx - componenetDidMount"),a.setState({petAdmission:e.data.admissions}),e):(a.setState({petAdmission:[{id:"000",name:"null",speci:"Dog",gender:"Male",years:"60",symptoms:["Fever","Cold"],admittedDate:"2019-04-01"}]}),[{data:{admissions:[{id:"000",name:"CORS/CORB",speci:"Dog",gender:"Male",years:"0",symptoms:["Cold"],admittedDate:"2010-04-01"}]}}])}).then(function(e){console.log("app.jsx - response2: ",e),e.data?P.dispatch({type:"FETCH_FROM_API",payload:{apiData:e.data.admissions}}):P.dispatch({type:"FETCH_FROM_API",payload:{apiData:e[0].data.admissions}})})}},{key:"componentDidMount0",value:function(){var e=this;console.log("App - Mount"),ye.callApi().then(function(t){return console.log(t),t.data&&e.setState({petAdmission:t.data}),t}).then(function(e){P.dispatch({type:"FETCH_FROM_API",payload:{apiData:e.data}})})}},{key:"showMenuBar",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(ie.a,{position:"static"},l.a.createElement(he.a,null,l.a.createElement(de.a,{color:"inherit","aria-label":"Open drawer"},l.a.createElement(se.a,null)),l.a.createElement(me.a,{variant:"h6",color:"inherit",noWrap:!0},"Material-UI"),l.a.createElement("div",null),l.a.createElement("div",null,l.a.createElement("div",null),l.a.createElement(A.a,{placeholder:"Search\u2026",value:this.state.fieldValue,onChange:function(t){t.preventDefault(),console.log("Search bar val: ",t),e.setState({fieldValue:t.target.value})}}),l.a.createElement(v.a,{onClick:this.handleSearch},l.a.createElement(ue.a,null),"Search"),l.a.createElement(v.a,{onClick:this.loadInitialData},"Reload"),l.a.createElement("div",null,this.state.fields.map(function(t,a){return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement(w.a,{name:"searchType",key:a,value:t,control:l.a.createElement(w.a,{color:"primary"}),"area-label":t,checked:e.state.selectedField===t,labelPlacement:"end",onChange:function(t){return e.setState({selectedField:t.target.value})}}),e.state.fields2[t].displayVal)}))))))}}]),t}(n.Component)),ve=Object(fe.a)(function(e){return{root:{width:"100%"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(d.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(d.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(pe.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(pe.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(d.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}})(ge);console.log("index.js-rendering"),i.a.render(l.a.createElement(ve,null),document.getElementById("root"))}},[[201,1,2]]]);
//# sourceMappingURL=main.79ff0aca.chunk.js.map